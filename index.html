<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Jordan's Engineering Portfolio</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🔨</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Text:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lobster:wght@400&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Dark Theme Colors */
            --primary-color: #FF3B30;
            --primary-hover: #D70015;
            --secondary-color: #FF6B35;
            --accent-color: #FF9F0A;
            --text-primary: #FFFFFF;
            --text-secondary: #A1A1A6;
            --text-tertiary: #636366;
            --background-primary: #000000;
            --background-secondary: #1C1C1E;
            --background-tertiary: #2C2C2E;
            --surface-primary: #1C1C1E;
            --surface-secondary: #2C2C2E;
            --surface-elevated: #3A3A3C;
            --border-primary: #38383A;
            --border-secondary: #48484A;
            --shadow-light: rgba(0, 0, 0, 0.3);
            --shadow-medium: rgba(0, 0, 0, 0.5);
            --shadow-heavy: rgba(0, 0, 0, 0.8);
            --glass-bg: rgba(28, 28, 30, 0.8);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        [data-theme="light"] {
            /* Light Theme Colors */
            --primary-color: #FF3B30;
            --primary-hover: #D70015;
            --secondary-color: #FF6B35;
            --accent-color: #FF9F0A;
            --text-primary: #1D1D1F;
            --text-secondary: #515154;
            --text-tertiary: #86868B;
            --background-primary: #FFFFFF;
            --background-secondary: #F2F2F7;
            --background-tertiary: #FFFFFF;
            --surface-primary: #FFFFFF;
            --surface-secondary: #F2F2F7;
            --surface-elevated: #FFFFFF;
            --border-primary: #D1D1D6;
            --border-secondary: #C7C7CC;
            --shadow-light: rgba(0, 0, 0, 0.04);
            --shadow-medium: rgba(0, 0, 0, 0.08);
            --shadow-heavy: rgba(0, 0, 0, 0.16);
            --glass-bg: rgba(255, 255, 255, 0.8);
            --glass-border: rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', system-ui, sans-serif;
            color: var(--text-primary);
            background: var(--background-primary);
            line-height: 1.6;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Smooth animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-on-scroll.animate-in {
            opacity: 1;
            transform: translateY(0);
        }

        .card-animate {
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-animate.animate-in {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .section-title-animate {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .section-title-animate.animate-in {
            opacity: 1;
            transform: translateY(0);
        }

        /* Staggered animations */
        .animate-on-scroll:nth-child(1) { transition-delay: 0.1s; }
        .animate-on-scroll:nth-child(2) { transition-delay: 0.2s; }
        .animate-on-scroll:nth-child(3) { transition-delay: 0.3s; }
        .animate-on-scroll:nth-child(4) { transition-delay: 0.4s; }

        /* Apple-style Dark/Light Mode Toggle */
        .theme-toggle {
            display: flex;
            align-items: center;
        }

        .theme-switch {
            position: relative;
            width: 50px;
            height: 26px;
            background: var(--surface-secondary);
            border-radius: 13px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-primary);
        }

        .theme-switch::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: var(--text-primary);
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 6px var(--shadow-medium);
        }

        [data-theme="light"] .theme-switch {
            background: var(--primary-color);
        }

        [data-theme="light"] .theme-switch::before {
            transform: translateX(24px);
            background: white;
        }

        .theme-icons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: absolute;
            top: 50%;
            left: 5px;
            right: 5px;
            transform: translateY(-50%);
            pointer-events: none;
        }

        .theme-icon {
            width: 12px;
            height: 12px;
            opacity: 0.6;
            transition: opacity 0.3s ease;
        }

        /* Enhanced Scrolling Marquee - Transparent over hero */
        .scrolling-banner {
            background: transparent;
            color: rgba(255, 255, 255, 0.9);
            padding: 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1001;
            overflow: hidden;
            white-space: nowrap;
            display: flex;
            align-items: center;
            height: 36px;
            backdrop-filter: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .scrolling-banner.scrolled {
            background: var(--glass-bg);
            color: var(--text-primary);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
        }

        .scrolling-content {
            display: inline-block;
            animation: scroll-seamless 45s linear infinite;
            will-change: transform;
        }

        .scroll-text {
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 0.3px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .scrolling-banner.scrolled .scroll-text {
            text-shadow: none;
        }

        @keyframes scroll-seamless {
            0% { transform: translateX(100vw); }
            100% { transform: translateX(-100%); }
        }

        /* Enhanced Navigation - Transparent over hero */
        .header-nav {
            position: fixed;
            top: 36px;
            left: 2rem;
            right: 2rem;
            background: transparent;
            z-index: 1000;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            border-radius: 0 0 20px 20px;
            backdrop-filter: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-top: none;
            box-shadow: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .header-nav.scrolled {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-top: none;
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        .site-title {
            color: rgba(255, 255, 255, 0.95);
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            letter-spacing: -0.01em;
            transition: color 0.3s ease;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .header-nav.scrolled .site-title {
            color: var(--text-primary);
            text-shadow: none;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            position: relative;
            transition: color 0.3s ease;
            letter-spacing: -0.01em;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: rgba(255, 255, 255, 1);
        }

        .header-nav.scrolled .nav-menu a {
            color: var(--text-secondary);
            text-shadow: none;
        }

        .header-nav.scrolled .nav-menu a:hover,
        .header-nav.scrolled .nav-menu a.active {
            color: var(--text-primary);
        }

        .nav-menu a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 1px;
        }

        .header-nav.scrolled .nav-menu a.active::after {
            background: var(--primary-color);
        }

        /* Mobile Hamburger Menu */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .hamburger-line {
            width: 24px;
            height: 3px;
            background: rgba(255, 255, 255, 0.9);
            margin: 3px 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2px;
            filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.5));
        }

        .header-nav.scrolled .hamburger-line {
            background: var(--text-primary);
            filter: none;
        }

        .mobile-menu-toggle.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .mobile-menu-toggle.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .mobile-nav-menu {
            position: fixed;
            top: 100px;
            left: 2rem;
            right: 2rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 16px 64px var(--shadow-medium);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-20px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 999;
        }

        .mobile-nav-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .mobile-nav-menu a {
            display: block;
            padding: 1rem 1.5rem;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid var(--border-primary);
            transition: all 0.3s ease;
        }

        .mobile-nav-menu a:last-child {
            border-bottom: none;
            border-radius: 0 0 20px 20px;
        }

        .mobile-nav-menu a:first-child {
            border-radius: 20px 20px 0 0;
        }

        .mobile-nav-menu a:hover {
            background: var(--surface-elevated);
            color: var(--primary-color);
        }

        .mobile-theme-toggle {
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: center;
            border-top: 1px solid var(--border-primary);
        }

        /* Hero Section - Keep Original Background */
        .hero-section {
            min-height: 100vh;
            background: url('./images/header-background.png') center/cover no-repeat;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-content {
            position: absolute;
            bottom: 20%;
            left: 6%;
            z-index: 2;
            text-align: left;
            color: white;
        }

        .hero-title {
            font-family: Impact, Arial, sans-serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            letter-spacing: 0.02em;
            line-height: 0.9;
        }

        .hero-subtitle {
            font-family: 'Lobster', cursive, Arial, sans-serif;
            font-size: 1.5rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            font-weight: 400;
        }

        /* Enhanced Scroll Indicator with Animation */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            color: white;
            cursor: pointer;
            text-align: center;
            transition: opacity 0.3s ease;
            animation: bounce 2s infinite;
        }

        .scroll-indicator svg {
            width: 32px;
            height: 32px;
            fill: currentColor;
            filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.5));
            transition: transform 0.3s ease;
        }

        .scroll-indicator:hover svg {
            transform: scale(1.1);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { 
                transform: translateX(-50%) translateY(0); 
            }
            40% { 
                transform: translateX(-50%) translateY(-10px); 
            }
            60% { 
                transform: translateX(-50%) translateY(-5px); 
            }
        }

        /* Modern Sections */
        .modern-section {
            padding: 6rem 2rem;
            background: var(--background-primary);
            transition: background-color 0.3s ease;
        }

        .modern-section.alternate {
            background: var(--background-secondary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            font-size: 2.5rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .section-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-weight: 400;
        }

        /* Projects Search Bar */
        .projects-search-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0 3rem 0;
        }

        .search-bar {
            position: relative;
            width: 100%;
            max-width: 500px;
        }

        .search-input {
            width: 100%;
            padding: 1rem 8rem 1rem 1.5rem;
            background: var(--surface-primary);
            border: 2px solid var(--border-primary);
            border-radius: 24px;
            font-size: 1rem;
            color: var(--text-primary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px var(--shadow-light);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 8px 32px var(--shadow-medium);
            transform: translateY(-2px);
        }

        .search-input::placeholder {
            color: var(--text-tertiary);
        }

        .search-results-badge {
            position: absolute;
            right: 3.5rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-color);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }

        .search-results-badge.active {
            opacity: 1;
            visibility: visible;
        }

        .search-results-badge:hover {
            background: var(--primary-hover);
            transform: translateY(-50%) scale(1.05);
        }

        .search-icon {
            position: absolute;
            right: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
            pointer-events: none;
            transition: fill 0.3s ease;
        }

        .search-input:focus + .search-results-badge + .search-icon {
            fill: var(--primary-color);
        }

        /* Modern Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
            margin: 2rem 0 3rem 0;
        }

        .search-bar {
            position: relative;
            width: 100%;
            max-width: 500px;
        }

        .search-input {
            width: 100%;
            padding: 1rem 3rem 1rem 1.5rem;
            background: var(--surface-primary);
            border: 2px solid var(--border-primary);
            border-radius: 24px;
            font-size: 1rem;
            color: var(--text-primary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px var(--shadow-light);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 8px 32px var(--shadow-medium);
            transform: translateY(-2px);
        }

        .search-input::placeholder {
            color: var(--text-tertiary);
        }

        .search-icon {
            position: absolute;
            right: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
            pointer-events: none;
            transition: fill 0.3s ease;
        }

        .search-input:focus + .search-icon {
            fill: var(--primary-color);
        }

        /* Search Suggestions Dropdown */
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--surface-primary);
            border: 2px solid var(--border-primary);
            border-top: none;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 12px 48px var(--shadow-heavy);
            z-index: 1000;
            max-height: 300px;
            overflow-y: auto;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px);
        }

        .search-suggestions.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .suggestion-item {
            padding: 0.875rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--surface-primary);
        }

        .suggestion-item:last-child {
            border-bottom: none;
            border-radius: 0 0 18px 18px;
        }

        .suggestion-item:hover {
            background: var(--surface-elevated);
            color: var(--primary-color);
        }

        .suggestion-item.selected {
            background: var(--primary-color);
            color: white;
        }

        .suggestion-icon {
            width: 16px;
            height: 16px;
            opacity: 0.7;
            flex-shrink: 0;
        }

        .suggestion-text {
            flex-grow: 1;
            font-weight: 500;
        }

        .suggestion-count {
            font-size: 0.8rem;
            opacity: 0.8;
            background: var(--background-secondary);
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
            font-weight: 500;
            flex-shrink: 0;
        }

        .suggestion-item.selected .suggestion-count {
            background: rgba(255, 255, 255, 0.25);
            opacity: 1;
        }

        .suggestion-item:hover .suggestion-count {
            background: var(--primary-color);
            color: white;
            opacity: 1;
        }

        /* Highlighted Projects */
        .project-card.highlighted {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 16px 48px var(--primary-color), 0 8px 32px var(--shadow-medium);
            border-color: var(--primary-color);
        }

        .project-card.dimmed {
            opacity: 0.4;
            transform: scale(0.98);
        }

        /* Enhanced About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 4rem;
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .about-text p {
            margin-bottom: 1.5rem;
        }

        .highlight {
            color: var(--primary-color);
            font-weight: 600;
        }

        .profile-image-container {
            position: relative;
            display: flex;
            justify-content: center;
        }

        .profile-image {
            width: 350px;
            height: 350px;
            border-radius: 24px;
            object-fit: cover;
            box-shadow: 0 20px 60px var(--shadow-medium);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .profile-image:hover {
            transform: translateY(-8px) rotate(1deg);
            box-shadow: 0 32px 80px var(--shadow-heavy);
        }

        .signature {
            text-align: center;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            color: var(--primary-color);
            font-size: 1.3rem;
            margin-top: 2rem;
            font-weight: 500;
            font-style: italic;
        }

        /* Modern Card Layouts */
        .education-grid,
        /* Enhanced Experience Section - 2 column layout */
        .experience-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 3rem;
        }

        .modern-card {
            background: var(--surface-primary);
            padding: 2.5rem;
            border-radius: 24px;
            box-shadow: 0 8px 32px var(--shadow-light);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-primary);
            text-decoration: none;
            color: inherit;
        }

        .modern-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 24px 80px var(--shadow-medium);
        }

        .card-content {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .card-logo {
            width: 120px;
            height: 120px;
            object-fit: contain;
            border-radius: 0;
            background: transparent;
            padding: 0;
            border: none;
        }

        /* Advanced SVG logo color switching - handles mixed-color logos intelligently */
        .card-logo[alt="SharkNinja"],
        .card-logo[alt="FYELIC"],
        .card-logo[alt="Brookhaven National Laboratory"] {
            transition: filter 0.3s ease;
        }

        /* Dark mode: Smart inversion that preserves colors while making dark elements light */
        [data-theme="dark"] .card-logo[alt="SharkNinja"],
        [data-theme="dark"] .card-logo[alt="FYELIC"],
        [data-theme="dark"] .card-logo[alt="Brookhaven National Laboratory"] {
            filter: 
                contrast(120%) 
                brightness(0.9) 
                invert(0.85) 
                hue-rotate(180deg) 
                saturate(1.1);
        }

        /* Light mode: Enhance contrast for better visibility */
        [data-theme="light"] .card-logo[alt="SharkNinja"],
        [data-theme="light"] .card-logo[alt="FYELIC"],
        [data-theme="light"] .card-logo[alt="Brookhaven National Laboratory"] {
            filter: contrast(110%) brightness(0.95);
        }

        .card-info h3 {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-weight: 600;
            letter-spacing: -0.01em;
        }

        .card-info p {
            color: var(--text-secondary);
            margin: 0.25rem 0;
            font-weight: 400;
        }

        /* Modern Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .project-card {
            background: var(--surface-primary);
            border-radius: 24px;
            overflow: visible;
            box-shadow: 0 8px 32px var(--shadow-light);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            color: inherit;
            border: 1px solid var(--border-primary);
            cursor: pointer;
            position: relative;
        }

        .project-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 32px 80px var(--shadow-heavy);
            z-index: 10;
        }

        .project-content {
            padding: 2.5rem;
            position: relative;
        }

        .project-title {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-weight: 600;
            letter-spacing: -0.01em;
        }

        .project-description {
            color: var(--text-secondary);
            line-height: 1.6;
            font-weight: 400;
            transition: all 0.3s ease;
        }

        /* Enhanced Project Preview */
        .project-preview {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: var(--surface-elevated);
            border-top: 1px solid var(--border-primary);
            padding: 2rem;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 250px;
            overflow-y: auto;
            border-radius: 0 0 24px 24px;
            z-index: 11;
            backdrop-filter: blur(20px);
        }

        .project-card:hover .project-preview {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .preview-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
        }

        .preview-text {
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
        }

        .preview-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .preview-tag {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .preview-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 1rem;
            text-decoration: none;
        }

        .preview-link:hover {
            text-decoration: underline;
        }

        /* Enhanced Footer */
        .footer {
            background: var(--surface-primary);
            color: var(--text-primary);
            padding: 4rem 2rem;
            text-align: center;
            border-top: 1px solid var(--border-primary);
        }

        .footer h3 {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            margin-bottom: 2rem;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .contact-item {
            background: var(--background-secondary);
            padding: 2rem;
            border-radius: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .contact-item:hover {
            background: var(--surface-elevated);
            transform: translateY(-4px);
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        .contact-icon {
            width: 32px;
            height: 32px;
            stroke: var(--primary-color);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .contact-item:hover .contact-icon {
            transform: scale(1.1);
            stroke: var(--primary-hover);
        }

        .contact-item h4 {
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .contact-item a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .scrolling-banner {
                height: 32px;
            }

            .header-nav {
                top: 32px;
                left: 1rem;
                right: 1rem;
                padding: 0 1rem;
            }

            .nav-menu {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .hero-content {
                bottom: 15%;
                left: 4%;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1.2rem;
            }

            .about-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .education-grid,
            .experience-grid {
                grid-template-columns: 1fr;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .card-content {
                flex-direction: column;
                text-align: center;
            }

            .profile-image {
                width: 280px;
                height: 280px;
            }

            .mobile-nav-menu {
                top: 96px;
                left: 1rem;
                right: 1rem;
            }

            .search-bar {
                max-width: 100%;
            }

            .search-input {
                padding: 0.875rem 3rem 0.875rem 1.25rem;
                font-size: 0.95rem;
            }
        }

        /* Smooth transitions for theme changes */
        * {
            transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>

<body data-theme="dark">
    <!-- Enhanced Scrolling Marquee Banner -->
    <div class="scrolling-banner" id="marquee">
        <div class="scrolling-content">
            <span class="scroll-text">
                🚀 NEW: Advanced Motor Control System   •   ⭐ FEATURED: Eagle Scout Leadership Project   •   🏆 LATEST: SharkNinja Co-op Systems Team   •   🚀 NEW: Advanced Motor Control System   •   ⭐ FEATURED: Eagle Scout Leadership Project   •   🏆 LATEST: SharkNinja Co-op Systems Team   •   
            </span>
        </div>
    </div>

    <!-- Enhanced Header Navigation -->
    <div class="header-nav" id="navbar">
        <a href="index.html" class="site-title">Jordan's Engineering Portfolio</a>
        
        <!-- Desktop Navigation -->
        <div class="nav-menu">
            <a href="index.html" class="active">Home</a>
            <a href="resume.html">Resume</a>
            <a href="#projects">Projects</a>
            <div class="theme-toggle">
                <div class="theme-switch" onclick="toggleTheme()">
                    <div class="theme-icons">
                        <svg class="theme-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/>
                        </svg>
                        <svg class="theme-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Hamburger Menu -->
        <div class="mobile-menu-toggle" id="mobileMenuToggle">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div class="mobile-nav-menu" id="mobileNavMenu">
        <a href="index.html">Home</a>
        <a href="resume.html">Resume</a>
        <a href="#projects">Projects</a>
        <div class="mobile-theme-toggle">
            <div class="theme-toggle">
                <div class="theme-switch" onclick="toggleTheme()">
                    <div class="theme-icons">
                        <svg class="theme-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/>
                        </svg>
                        <svg class="theme-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section with Original Background -->
    <section id="home" class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">ENGINEERING PORTFOLIO</h1>
            <p class="hero-subtitle">By: Jordan Spencer</p>
        </div>
        <div class="scroll-indicator" id="scrollIndicator">
            <svg viewBox="0 0 24 24">
                <path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/>
            </svg>
        </div>
    </section>

    <!-- Enhanced About Section -->
    <section id="about" class="modern-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title section-title-animate">ABOUT ME</h2>
                <p class="section-subtitle animate-on-scroll">Mechanical Engineering Student & Student-Athlete</p>
            </div>
            <div class="about-content">
                <div class="about-text animate-on-scroll">
                    <p>I am a <span class="highlight">fourth-year undergraduate Mechanical Engineering</span> student at <span class="highlight">Northeastern University's Honors College</span> where I am also a member of the <span class="highlight">NCAA Division 1 Varsity Men's Track & Field</span> Team.</p>
                    
                    <p>I was born and raised on <span class="highlight">Long Island, NY</span> with 2 parents, 1 sister, a cat, and 2 dogs. Throughout my childhood, I found joy in playing sports, learning, and building. My love of building can be traced back to my earliest memories of working in carpentry with my father and reverse engineering toys. From holding a level against a wall at the tender age of 2 to building my first tabletop arcade machine at 17, engineering has always been a source of joy for me.</p>
                    
                    <p>I have worked to develop interpersonal and technical skills across various fields within engineering. As a college student-athlete, I have developed extensive time management and leadership skills, as well as proficiency and discipline in my sport. Additionally, I achieved the rank of <span class="highlight">Eagle Scout</span> in 2022 by completing 21 merit badges, showing proficiency in life skills, and completing an Eagle Scout Project for the betterment of my community. As I continue to progress in academics and athletics, I develop technical skills like <span class="highlight">soldering, 3D printing, SolidWorks, MATLAB,</span> and <span class="highlight">laser cutting</span> through various clubs and student positions such as Generate, an entrepreneurial engineering club, and FYELIC's Red Vest Team.</p>
                    
                    <p>Pending the completion of my <span class="highlight">B.S. in Mechanical Engineering (Spring 2026)</span>, I will return to Northeastern University for an additional year to complete a <span class="highlight">M.S. in Mechanical Engineering with Concentration in Mechatronics (Spring 2027)</span>.</p>
                    
                    <p class="signature">-Jordan Spencer</p>
                </div>
                <div class="profile-image-container animate-on-scroll">
                    <img src="./images/profile-photo.jpg" alt="Jordan Spencer" class="profile-image">
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Education Section -->
    <section id="education" class="modern-section alternate">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title section-title-animate">EDUCATION</h2>
                <p class="section-subtitle animate-on-scroll">My academic journey in engineering</p>
            </div>
            <div class="education-grid">
                <a href="https://northeastern.edu" target="_blank" class="modern-card card-animate" style="text-decoration: none; color: inherit;">
                    <div class="card-content">
                        <img src="./images/northeastern-logo.png" alt="Northeastern University" class="card-logo">
                        <div class="card-info">
                            <h3>Northeastern University</h3>
                            <p>Class of 2026</p>
                            <p>Bachelor of Science in Mechanical Engineering</p>
                            <p>Boston, MA</p>
                        </div>
                    </div>
                </a>
                <a href="https://stanthonyshs.org" target="_blank" class="modern-card card-animate" style="text-decoration: none; color: inherit;">
                    <div class="card-content">
                        <img src="./images/saint-anthonys-logo.png" alt="Saint Anthony's High School" class="card-logo">
                        <div class="card-info">
                            <h3>Saint Anthony's High School</h3>
                            <p>Class of 2022</p>
                            <p>Advanced Regents Diploma</p>
                            <p>South Huntington, NY</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Enhanced Experience Section -->
    <section id="experience" class="modern-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title section-title-animate">EXPERIENCE</h2>
                <p class="section-subtitle animate-on-scroll">Professional and academic experiences</p>
            </div>
            <div class="experience-grid">
                <a href="https://sharkninja.com" target="_blank" class="modern-card card-animate" style="text-decoration: none; color: inherit;">
                    <div class="card-content">
                        <img src="./images/sharkninja-logo.svg" alt="SharkNinja" class="card-logo">
                        <div class="card-info">
                            <h3>SharkNinja</h3>
                            <p>Mechanical Engineering Co-op (Systems Team)</p>
                            <p>Needham, MA</p>
                        </div>
                    </div>
                </a>
                <a href="https://makerspaces.northeastern.edu/makerspace/fyelic/" target="_blank" class="modern-card card-animate" style="text-decoration: none; color: inherit;">
                    <div class="card-content">
                        <img src="./images/fyelic-logo.svg" alt="FYELIC" class="card-logo">
                        <div class="card-info">
                            <h3>FYELIC (First Year Engineering Learning & Innovation Center)</h3>
                            <p>Engineering Mentor (Red Vest)</p>
                            <p>Boston, MA</p>
                        </div>
                    </div>
                </a>
                <a href="https://www.bnl.gov/education/programs/hsrp/" target="_blank" class="modern-card card-animate" style="text-decoration: none; color: inherit;">
                    <div class="card-content">
                        <img src="./images/brookhaven-logo.svg" alt="Brookhaven National Laboratory" class="card-logo">
                        <div class="card-info">
                            <h3>Brookhaven National Laboratory</h3>
                            <p>High School Research Program (HSRP) - Quantum Algorithms</p>
                            <p>Upton, NY</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Enhanced Projects Section with Search -->
    <section id="projects" class="modern-section alternate">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title section-title-animate">PROJECTS</h2>
                <p class="section-subtitle animate-on-scroll">Engineering solutions and creative builds</p>
            </div>
            
            <!-- Projects Search Bar -->
            <div class="projects-search-container animate-on-scroll">
                <div class="search-bar">
                    <input 
                        type="text" 
                        class="search-input" 
                        placeholder="Search projects by name, technology, or keyword..."
                        id="projectSearch"
                        autocomplete="off"
                    >
                    <div class="search-results-badge" id="searchResultsBadge"></div>
                    <svg class="search-icon" viewBox="0 0 24 24">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                </div>
            </div>

            <div class="projects-grid" id="projectsGrid">
                <!-- Projects will be dynamically generated from scraped data -->
            </div>
        </div>
    </section>

    <!-- Enhanced Contact Footer -->
    <section class="footer">
        <div class="container">
            <h3 class="section-title-animate">Let's Connect</h3>
            <div class="contact-grid">
                <div class="contact-item card-animate">
                    <svg class="contact-icon" viewBox="0 0 24 24">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    <h4>Phone</h4>
                    <p>(631) 294-8401</p>
                </div>
                <div class="contact-item card-animate">
                    <svg class="contact-icon" viewBox="0 0 24 24">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <h4>Email</h4>
                    <a href="mailto:spencer.jo@northeastern.edu?subject=Portfolio%20Inquiry%20-%20Engineering%20Collaboration&body=Hi%20Jordan,%0D%0A%0D%0AI%20found%20your%20engineering%20portfolio%20and%20would%20like%20to%20connect%20about%20">spencer.jo@northeastern.edu</a>
                </div>
                <div class="contact-item card-animate">
                    <svg class="contact-icon" viewBox="0 0 24 24">
                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                        <rect x="2" y="9" width="4" height="12"></rect>
                        <circle cx="4" cy="4" r="2"></circle>
                    </svg>
                    <h4>LinkedIn</h4>
                    <a href="https://www.linkedin.com/in/jordan-spencer-engineering/" target="_blank">jordan-spencer-engineering</a>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Theme Toggle Functionality
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        // Load saved theme
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.body.setAttribute('data-theme', savedTheme);
        });

        // Simplified Project Search with Results Badge
        const projectSearch = document.getElementById('projectSearch');
        const searchResultsBadge = document.getElementById('searchResultsBadge');
        const projectCards = document.querySelectorAll('.project-card');

        // Auto-scrape project data from actual project pages
        async function scrapeProjectData() {
            const projectUrls = [
                'projects/eagle-scout-project.html',
                'projects/tabletop-arcade-machine.html', 
                'projects/mini-robo-arm.html',
                'projects/ir-transmitter-and-receiver.html',
                'projects/stealth-planes-museum-exhibit.html',
                'projects/portable-charging-3ds-dock.html',
                'projects/motor-control-assistive-device.html'
            ];

            const scrapedData = [];

            for (const url of projectUrls) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) continue;
                    
                    const html = await response.text();
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    
                    // Extract title - from project-title class or h1
                    const title = doc.querySelector('.project-title')?.textContent?.trim() || 
                                 doc.querySelector('h1')?.textContent?.trim() ||
                                 url.split('/').pop().replace('.html', '').replace(/-/g, ' ');
                    
                    // Extract keywords from various sections
                    const keywords = new Set();
                    
                    // 1. From Components List (.components-list li)
                    doc.querySelectorAll('.components-list li').forEach(el => {
                        const text = el.textContent?.trim().toLowerCase();
                        if (text && text.length > 1) {
                            keywords.add(text);
                            
                            // Extract specific tech terms from components
                            if (text.includes('arduino')) keywords.add('arduino');
                            if (text.includes('servo')) keywords.add('servo motors');
                            if (text.includes('pcb')) keywords.add('pcb design');
                            if (text.includes('motor')) keywords.add('motor control');
                            if (text.includes('sensor')) keywords.add('sensors');
                            if (text.includes('button')) keywords.add('electronics');
                            if (text.includes('potentiometer')) keywords.add('electronics');
                        }
                    });
                    
                    // 2. From Skills List (.skills-list li)
                    doc.querySelectorAll('.skills-list li').forEach(el => {
                        const text = el.textContent?.trim().toLowerCase();
                        if (text && text.length > 2) {
                            keywords.add(text);
                        }
                    });
                    
                    // 3. From Project Overview/Description (.project-description)
                    const description = doc.querySelector('.project-description')?.textContent;
                    if (description) {
                        // Extract technical terms from the description
                        const techTerms = description.toLowerCase().match(
                            /\b(arduino|raspberry pi|pcb|3d printing|robotics|electronics|programming|python|javascript|c\+\+|java|solidworks|matlab|cad|servo|sensor|motor|led|circuit|wireless|bluetooth|wifi|microcontroller|automation|ai|machine learning|cnc|laser cutting|soldering|hotswappable|pogo pin|degrees of freedom|object manipulation|automated task|tool detection|electrical continuity|sensor feedback)\b/g
                        );
                        
                        if (techTerms) {
                            techTerms.forEach(term => {
                                keywords.add(term);
                                // Add related terms
                                if (term === 'servo') keywords.add('servo motors');
                                if (term === 'pogo pin') keywords.add('pogo pins');
                                if (term === 'hotswappable') keywords.add('modular design');
                            });
                        }
                        
                        // Look for specific project-related keywords
                        if (description.toLowerCase().includes('robotic arm')) keywords.add('robotics');
                        if (description.toLowerCase().includes('precision')) keywords.add('precision control');
                        if (description.toLowerCase().includes('degrees of freedom')) keywords.add('multi-axis control');
                    }
                    
                    // Also check for any image references that might need updating
                    const images = doc.querySelectorAll('img');
                    images.forEach(img => {
                        const src = img.getAttribute('src');
                        if (src && !src.startsWith('http') && !src.startsWith('../')) {
                            // Convert relative paths to proper relative paths from project page perspective
                            if (src.startsWith('images/')) {
                                // This would be wrong from project page - should be ../images/
                                console.log(`⚠️ Found potentially incorrect image path: ${src} (should be ../${src})`);
                            }
                        }
                    });
                    const subtitle = doc.querySelector('.project-subtitle')?.textContent;
                    if (subtitle) {
                        const subtitleTerms = subtitle.toLowerCase().match(
                            /\b(precision|servo motor|control|programmable|automation|robotic|arm|hotswappable|end effector|tool detection|microcontroller)\b/g
                        );
                        if (subtitleTerms) {
                            subtitleTerms.forEach(term => keywords.add(term));
                        }
                    }
                    
                    // 5. From existing data-keywords attributes (if present)
                    const dataKeywords = doc.querySelector('[data-keywords]')?.getAttribute('data-keywords');
                    if (dataKeywords) {
                        dataKeywords.split(',').forEach(kw => {
                            const cleaned = kw.trim().toLowerCase();
                            if (cleaned) keywords.add(cleaned);
                        });
                    }
                    
                    // Clean and filter keywords
                    const finalKeywords = Array.from(keywords)
                        .filter(kw => kw.length > 2 && !['the', 'and', 'with', 'for', 'using', 'system', 'design'].includes(kw))
                        .slice(0, 20); // Allow more keywords since we're being more specific
                    
                    scrapedData.push({
                        element: document.querySelector(`a[href="${url}"]`),
                        title: title,
                        keywords: finalKeywords,
                        url: url
                    });
                    
                    console.log(`✅ Scraped ${url}:`, {
                        title: title,
                        keywordCount: finalKeywords.length,
                        keywords: finalKeywords.slice(0, 8) // Show first 8 for debugging
                    });
                    
                } catch (error) {
                    console.log(`❌ Could not scrape ${url}:`, error);
                    
                    // Fallback to manual data for this project
                    const fallbackData = getProjectDataFallback(url);
                    if (fallbackData) {
                        scrapedData.push(fallbackData);
                        console.log(`📋 Used fallback data for ${url}`);
                    }
                }
            }
            
            return scrapedData.length > 0 ? scrapedData : [];
        }

        // Fallback only if scraping completely fails
        function getProjectDataFallback(url) {
            // Return basic data with just title and URL, no keywords
            const titleMap = {
                'projects/eagle-scout-project.html': 'Eagle Scout Project',
                'projects/tabletop-arcade-machine.html': 'Tabletop Arcade Machine',
                'projects/mini-robo-arm.html': 'Mini Robo Arm',
                'projects/ir-transmitter-and-receiver.html': 'IR Transmitter and Receiver',
                'projects/stealth-planes-museum-exhibit.html': 'Stealth Planes Exhibit',
                'projects/portable-charging-3ds-dock.html': 'Portable Charging 3DS Dock',
                'projects/motor-control-assistive-device.html': 'Motor Control Assistive Device'
            };

            return {
                element: document.querySelector(`a[href="${url}"]`),
                title: titleMap[url] || url.split('/').pop().replace('.html', '').replace(/-/g, ' '),
                keywords: [], // No fallback keywords - force user to check their project pages
                url: url
            };
        }

        // Initialize project data with auto-discovery
        let projectData = [];

        async function initializeSearch() {
            console.log('🔍 Auto-discovering and loading projects...');
            try {
                projectData = await discoverAndScrapeProjects();
                
                if (projectData.length === 0) {
                    console.log('❌ No project files found in projects folder. Please check your project pages.');
                    return;
                }
                
                // Generate project cards dynamically
                generateProjectCards(projectData);
                
                // Update the global projectCards reference for search
                window.projectCards = document.querySelectorAll('.project-card');
                
                console.log('✅ Portfolio initialized successfully:');
                console.log(`  📁 Found ${projectData.length} projects`);
                projectData.forEach(project => {
                    console.log(`  📄 ${project.title}: ${project.keywords.length} keywords`);
                });
                
                console.log('🚀 Search and navigation ready!');
                
            } catch (error) {
                console.log('❌ Error initializing portfolio:', error);
                console.log('Using static project cards from HTML.');
            }
        }

        // Initialize search when page loads
        document.addEventListener('DOMContentLoaded', initializeSearch);

        let currentMatches = [];

        if (projectSearch) {
            // Search input handler
            projectSearch.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase().trim();
                handleSearch(searchTerm);
            });

            // Enter key handler
            projectSearch.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    handleEnterKey();
                } else if (e.key === 'Escape') {
                    this.blur();
                    clearSearch();
                }
            });

            // Badge click handler
            searchResultsBadge.addEventListener('click', function() {
                if (currentMatches.length === 1) {
                    // If only one match, navigate to it
                    window.location.href = currentMatches[0].url;
                } else if (currentMatches.length > 1) {
                    // Scroll to projects section to see highlighted results
                    document.getElementById('projects').scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        }

        function handleSearch(searchTerm) {
            if (searchTerm.length === 0) {
                clearSearch();
                return;
            }

            // Find matching projects
            const matches = findMatches(searchTerm);
            currentMatches = matches;
            
            // Update visual highlights
            updateProjectHighlights(matches);
            
            // Update results badge
            updateResultsBadge(matches.length);
        }

        function findMatches(searchTerm) {
            const matches = [];
            
            projectData.forEach(project => {
                const titleMatch = project.title.toLowerCase().includes(searchTerm);
                const keywordMatch = project.keywords.some(keyword => 
                    keyword.toLowerCase().includes(searchTerm)
                );
                
                if (titleMatch || keywordMatch) {
                    matches.push(project);
                }
            });

            return matches;
        }

        function updateProjectHighlights(matchingProjects) {
            const projectsGrid = document.getElementById('projectsGrid');
            
            if (matchingProjects.length === 0) {
                // No matches - show all projects in original order
                projectCards.forEach(card => {
                    card.classList.remove('highlighted', 'dimmed');
                    card.style.order = '';
                });
                return;
            }

            // Create arrays for matched and non-matched projects
            const matchedElements = [];
            const nonMatchedElements = [];

            projectCards.forEach(card => {
                const isMatch = matchingProjects.some(project => project.element === card);
                
                card.classList.remove('highlighted', 'dimmed');
                
                if (isMatch) {
                    card.classList.add('highlighted');
                    matchedElements.push(card);
                } else {
                    card.classList.add('dimmed');
                    nonMatchedElements.push(card);
                }
            });

            // Reorder: matched projects first, then non-matched
            matchedElements.forEach((card, index) => {
                card.style.order = index;
            });

            nonMatchedElements.forEach((card, index) => {
                card.style.order = matchedElements.length + index;
            });
        }

        function updateResultsBadge(count) {
            if (count === 0) {
                searchResultsBadge.classList.remove('active');
                searchResultsBadge.textContent = '';
            } else {
                searchResultsBadge.classList.add('active');
                searchResultsBadge.textContent = count === 1 ? '1 project' : `${count} projects`;
            }
        }

        function handleEnterKey() {
            if (currentMatches.length === 1) {
                // Navigate to single project
                window.location.href = currentMatches[0].url;
            } else if (currentMatches.length > 1) {
                // Scroll to see all highlighted projects
                document.getElementById('projects').scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        function clearSearch() {
            currentMatches = [];
            clearHighlights();
            updateResultsBadge(0);
        }

        function clearHighlights() {
            projectCards.forEach(card => {
                card.classList.remove('highlighted', 'dimmed');
                card.style.order = ''; // Reset order to original
            });
        }

        // Enhanced Animation System
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.classList.add('animate-in');
                    }, index * 100);
                }
            });
        }, observerOptions);

        function initScrollAnimations() {
            const animateElements = document.querySelectorAll(
                '.animate-on-scroll, .card-animate, .section-title-animate'
            );
            animateElements.forEach((el) => {
                observer.observe(el);
            });
        }

        document.addEventListener('DOMContentLoaded', initScrollAnimations);
        window.addEventListener('load', initScrollAnimations);

        // Enhanced Scroll indicator functionality
        const scrollIndicator = document.getElementById('scrollIndicator');
        if (scrollIndicator) {
            scrollIndicator.addEventListener('click', function() {
                const aboutSection = document.getElementById('about');
                if (aboutSection) {
                    aboutSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });

            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    scrollIndicator.style.opacity = '0';
                    scrollIndicator.style.pointerEvents = 'none';
                } else {
                    scrollIndicator.style.opacity = '1';
                    scrollIndicator.style.pointerEvents = 'auto';
                }
            });
        }

        // Enhanced Navigation functionality
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Mobile menu functionality
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileNavMenu = document.getElementById('mobileNavMenu');

        if (mobileMenuToggle && mobileNavMenu) {
            mobileMenuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                mobileNavMenu.classList.toggle('active');
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!mobileMenuToggle.contains(event.target) && !mobileNavMenu.contains(event.target)) {
                    mobileMenuToggle.classList.remove('active');
                    mobileNavMenu.classList.remove('active');
                }
            });

            // Close mobile menu when clicking on a link
            mobileNavMenu.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                    mobileMenuToggle.classList.remove('active');
                    mobileNavMenu.classList.remove('active');
                }
            });
        }

        // Enhanced scroll effects for navigation
        const navbar = document.getElementById('navbar');
        const marquee = document.getElementById('marquee');

        window.addEventListener('scroll', function() {
            const scrolled = window.scrollY > 100;
            
            if (navbar) {
                navbar.classList.toggle('scrolled', scrolled);
            }
            
            if (marquee) {
                marquee.classList.toggle('scrolled', scrolled);
            }
        });

        // Enhanced Active nav link highlighting
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-menu a');
            
            let current = 'home';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (window.pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}` || 
                    (current === 'home' && link.getAttribute('href') === 'index.html')) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
